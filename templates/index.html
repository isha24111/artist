<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Artists</title>
  <link rel="shortcut icon" href="./images/title-logo.png" type="image/x-icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/media.css') }}">
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #ffffff;
      color: #333;
      line-height: 1.6;
    }

    a {
      text-decoration: none;
      color: #ff6347;
      transition: color 0.3s ease;
    }

    a:hover {
      color: #e5533d;
    }

    header {
      background-color: #000000;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      padding: 10px 0;
      margin-bottom: 1px;
    }

    .header-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 40px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .navbar ul {
      list-style: none;
      padding: 0;
      margin: 0.5;
      display: flex;
      align-items: center;
    }

    .navbar ul li {
      margin-right: 20px;
    }

    .navbar ul li a {
      color: #ffffff;
      font-size: 18px;
    }

    .navbar ul li a:hover {
      color: #ff6347;
    }

    .navbar button {
      background-color: #ff6347;
      color: #ffffff;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .navbar button:hover {
      background-color: #e5533d;
    }

    .home {
      background-color: #ffffff;
      padding: 30px 20px;
      text-align: center;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .home-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .home-desc {
      text-align: center;
      margin-top: 20px;
    }

    .home-desc h4 {
      font-size: 24px;
      color: #333;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 20px;
    }

    .home-desc h1 {
      font-size: 80px;
      color: #ff6347;
      margin-bottom: 20px;
      font-weight: bold;
      text-shadow: 2px 2px 2px rgba(0, 0, 0, 0.1);
    }

    .home-desc p {
      font-size: 22px;
      color: #666;
      line-height: 1.6;
      margin-bottom: 40px;
    }

    .home .btn {
      display: inline-block;
      padding: 15px 30px;
      background-color: #ff6347;
      color: #ffffff;
      text-decoration: none;
      border-radius: 50px;
      margin-top: 20px;
      transition: background-color 0.3s ease;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .home .btn:hover {
      background-color: #e5533d;
    }

    .highlight {
      text-align: center;
      margin-bottom: 20px;
    }

    .highlight h1 {
      font-size: 72px;
      text-align: center;
      color: #ff6347;
    }

    .scroll-container {
      overflow-y: auto;
      max-height: 300px;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 10px;
      margin-bottom: 20px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
    }

    .parent-container {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }

    .photo-item {
      position: relative;
      width: 150px;
      height: 150px;
      overflow: hidden;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .photo-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 10px;
    }

    .delete-button {
      position: absolute;
      top: 5px;
      right: 5px;
      background-color: #ff6347;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 12px;
    }

    .delete-button:hover {
      background-color: #e5533d;
    }

    .highlights-section {
      margin: 40px 20px;
      text-align: center;
    }

    .highlights-section h1 {
      font-size: 48px;
      color: #ff6347;
      margin-bottom: 20px;
    }

    .highlights-section button {
      background-color: #ff6347;
      color: #ffffff;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .highlights-section button:hover {
      background-color: #e5533d;
    }

    .footer {
      background-color: #000000;
      color: #ffffff;
      padding: 80px 20px;
      text-align: center;
    }

    .footer-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-around;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
    }

    .footer h4 {
      margin-bottom: 40px;
      font-size: 28px;
      color: #ffffff;
      text-transform: uppercase;
    }

    .footer ul {
      padding: 0;
      margin: 0;
      list-style: none;
    }

    .footer ul li {
      margin-bottom: 20px;
    }

    .footer ul li a {
      color: #ccc;
      font-size: 20px;
      transition: color 0.3s ease;
    }

    .footer ul li a:hover {
      color: #ff6347;
    }

    .footer-bottom {
      background-color: #23272b;
      padding: 40px 0;
    }

    .footer-bottom p {
      margin: 0;
      font-size: 16px;
      color: #ccc;
    }

    #user-circle {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: #ff6347;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      cursor: pointer;
    }

    #user-circle img {
      width: 100%;
      height: auto;
      border-radius: 50%;
    }

    #user-circle span {
      font-size: 20px;
      color: #ffffff;
    }

    .dropdown-menu {
      display: none;
      position: fixed;
      top: 70px;
      right: 20px;
      background-color: #ffffff;
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 10px;
      z-index: 1;
    }

    .dropdown-menu a {
      display: block;
      padding: 10px;
      color: #333;
      text-decoration: none;
      transition: background-color 0.3s ease;
    }

    .dropdown-menu a:hover {
      background-color: #f0f0f0;
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgb(0, 0, 0);
      background-color: rgba(0, 0, 0, 0.4);
      padding-top: 60px;
    }

    .modal-content {
      background-color: #fefefe;
      margin: 5% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 80%;
      max-width: 700px;
      border-radius: 10px;
    }

    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
    }

    .close:hover,
    .close:focus {
      color: black;
      text-decoration: none;
      cursor: pointer;
    }

    .modal-image {
      width: 100%;
      height: auto;
      border-radius: 10px;
    }

    .visit-profile-button,
    .report-button {
      background-color: #ff6347;
      color: #ffffff;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      margin-top: 20px;
      display: block;
      text-align: center;
    }

    .visit-profile-button:hover,
    .report-button:hover {
      background-color: #e5533d;
    }

    .signup-button,
    .highlights-section-button {
      background-color: #ff6347;
      color: white;
      border: none;
      padding: 15px 35px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin-top: 7px;
      cursor: pointer;
      border-radius: 50px;
      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
      transition: background-color 0.3s ease, transform 0.3s ease;
    }

    .signup-button:hover,
    .highlights-section-button:hover {
      background-color: #ff4500;
      transform: scale(1.05);
      color: white;
    }

    .signup-button:active,
    .highlights-section-button:active {
      background-color: #ff4500;
      transform: scale(0.95);
      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 3px 10px 0 rgba(0, 0, 0, 0.19);
    }

    .about {
      background-color: #f9f9f9;
      padding: 60px 20px;
      text-align: center;
    }

    .section-title {
      font-size: 36px;
      color: #ff6347;
      margin-bottom: 20px;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .about-content {
      font-size: 18px;
      color: #333;
      line-height: 1.6;
      text-align: left;
      max-width: 800px;
      margin: 0 auto;
    }

    .about-content p {
      margin-bottom: 20px;
    }

    .about-content p:last-child {
      margin-bottom: 0;
    }

    @media (max-width: 768px) {
      .header-container {
        padding: 0 20px;
      }

      .navbar ul {
        flex-direction: column;
        align-items: flex-start;
      }

      .navbar ul li {
        margin-right: 0;
        margin-bottom: 10px;
      }

      .navbar ul li a {
        font-size: 16px;
      }

      .navbar button {
        padding: 8px 16px;
      }

      .home-desc h1 {
        font-size: 60px;
      }

      .home-desc h4 {
        font-size: 20px;
      }

      .home-desc p {
        font-size: 16px;
      }

      .photo-item {
        width: 100px;
        height: 100px;
      }

      .highlights-section {
        padding: 20px;
      }

      .highlights-section h1 {
        font-size: 28px;
      }

      .scroll-container {
        max-height: 200px;
      }

      .about-content {
        padding: 0 10px;
      }
    }

    @media (max-width: 480px) {
      .home-desc h1 {
        font-size: 40px;
      }

      .home-desc h4 {
        font-size: 18px;
      }

      .home-desc p {
        font-size: 14px;
      }

      .photo-item {
        width: 80px;
        height: 80px;
      }

      .highlights-section h1 {
        font-size: 24px;
      }

      .about-content {
        padding: 0 5px;
      }
    }
  </style>
</head>
<body>

  <!-- User Circle -->
  <div id="user-circle" onclick="toggleDropdown()">
    {% if user_email %}
      {% if user_profile and user_profile.get('profile_picture') %}
        <img src="{{ user_profile.get('profile_picture') }}" alt="Profile Picture">
      {% else %}
        <span>{{ user_email[0] }}</span>
      {% endif %}
    {% endif %}
  </div>

  <!-- Dropdown menu -->
  <div class="dropdown-menu" id="dropdown-menu">
    <a href="/profile">Profile</a>
    <a href="/logout">Sign Out</a>
  </div>

  <header class="header">
    <div class="header-container">
      <nav class="navbar">
        <ul>
          <li><a class="active" href="#home">Home</a></li>
          <li><a href="#highlight">Highlights</a></li>
          <li><a href="#about">About</a></li>
          <li><button onclick="location.href='{{ url_for('search_form') }}'">Search Artist</button></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <section id="home" class="home">
      <div class="home-container">
        <h1><span class="highlight" style="font-size: 130px;">Artists</span></h1>
        <div class="home-desc">
          <h4>Welcome to the world of creativity</h4>
          <p>
            Now you can start your own profile which highlights your work! Make Your profile show your best work till now and connect with users who love your work! ALL THE BEST!
          </p>
          <a class="signup-button highlights-section-button" href="{{ url_for('signup') }}">SignUp</a>
        </div>
      </div>
    </section>

    <section id="highlight" class="highlight">
      <h1>Highlights</h1>
      <button class="highlights-section-button" onclick="location.href='{{ url_for('highlight_preview') }}'">Add Highlight</button>
      <div id="highlights">
        {% if user_email %}
          <h3>{% if user_profile and user_profile.get('name') %}{{ user_profile.get('name') }}{% else %}{{ user_email }}{% endif %}</h3>
          <div class="scroll-container">
            {% if user_highlights %}
              {% for photo_url in user_highlights %}
                <div class="photo-item" onclick="openPhotoModal('{{ photo_url }}', '{% if user_profile and user_profile.get('name') %}{{ user_profile.get('name') }}{% else %}{{ user_email }}{% endif %}')">
                  <img src="{{ photo_url }}" alt="Highlight Photo">
                  <button class="delete-button" onclick="deletePhoto('{{ photo_url }}', event)">Delete</button>
                </div>
              {% endfor %}
            {% else %}
              <div class="photo-item add-icon" onclick="location.href='{{ url_for('highlight_preview') }}'">
                <i class="fa fa-plus"></i>
              </div>
            {% endif %}
          </div>
          <h3>All Highlights</h3>
          <div class="parent-container">
            <div class="scroll-container all-highlights">
              {% for photo_url, artist_email in all_highlights %}
                <div class="photo-item" onclick="openPhotoModal('{{ photo_url }}', '{{ artist_email }}')">
                  <img src="{{ photo_url }}" alt="Highlight Photo">
                </div>
              {% endfor %}
            </div>
          </div>
        {% else %}
          <h3>All Highlights</h3>
          <div class="scroll-container">
            {% for photo_url, artist_email in all_highlights %}
              <div class="photo-item" onclick="location.href='{{ url_for('signup') }}'">
                <img src="{{ photo_url }}" alt="Highlight Photo">
              </div>
            {% endfor %}
          </div>
        {% endif %}
      </div>
    </section>

    <section id="about" class="about">
      <div class="about-container">
        <h2 class="section-title">About Us</h2>
        <div class="about-content">
          <p>
            Artists is a platform that empowers creators to showcase their talents and connect with a global audience. Our mission is to provide a space where artists can thrive and art lovers can discover new talents.
          </p>
          <p>
            Whether you're a painter, sculptor, photographer, or digital artist, Artists welcomes you. Join our community to share your work, inspire others, and be inspired by the endless possibilities of artistic expression.
          </p>
          <p>
            Ready to embark on your creative journey? Sign up today and let your art shine!
          </p>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-container">
      <div class="quick-links">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="#home">Home</a></li>
          <li><a href="{{ url_for('abouts') }}">About Us</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </div>
      <div class="follow-us">
        <h4>Follow Us</h4>
        <ul>
          <li><a href="https://www.facebook.com" target="_blank">Facebook</a></li>
          <li><a href="https://www.instagram.com" target="_blank">Instagram</a></li>
          <li><a href="https://www.twitter.com" target="_blank">Twitter</a></li>
          <li><a href="https://www.linkedin.com" target="_blank">LinkedIn</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2024 Artists. All rights reserved.</p>
    </div>
  </footer>

  <!-- Modal Structure -->
  <div id="photoModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closePhotoModal()">&times;</span>
      <img id="modalImage" class="modal-image" src="" alt="Highlighted Photo">
      <button id="visitProfileButton" class="visit-profile-button" onclick="visitArtistProfile()">Visit Artist Profile</button>
      <button id="reportButton" class="report-button" onclick="reportPhoto()">Report</button>
    </div>
  </div>

  <script>
    var currentArtistEmail = null;
    var currentPhotoUrl = null;

    function toggleDropdown() {
      var dropdownMenu = document.getElementById('dropdown-menu');
      dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';
    }

    window.onclick = function(event) {
      if (!event.target.closest('#user-circle')) {
        var dropdownMenu = document.getElementById('dropdown-menu');
        if (dropdownMenu.style.display === 'block') {
          dropdownMenu.style.display = 'none';
        }
      }
    }

    function deletePhoto(photoUrl, event) {
      event.stopPropagation();
      if (confirm('Are you sure you want to delete this photo?')) {
        fetch('/delete-highlight', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ photo_url: photoUrl })
        })
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            location.reload();
          } else {
            alert('Failed to delete photo: ' + data.error);
          }
        });
      }
    }

    function openPhotoModal(photoUrl, artistEmail) {
      currentArtistEmail = artistEmail;
      currentPhotoUrl = photoUrl;
      document.getElementById('modalImage').src = photoUrl;
      document.getElementById('photoModal').style.display = 'block';
    }

    function closePhotoModal() {
      document.getElementById('photoModal').style.display = 'none';
    }

    function visitArtistProfile() {
      if (currentArtistEmail) {
        location.href = `/artist_profile/${currentArtistEmail.replace('.', ',')}`;
      }
    }

    function reportPhoto() {
      if (currentPhotoUrl && currentArtistEmail) {
        location.href = `/report?photo_url=${encodeURIComponent(currentPhotoUrl)}&artist_email=${encodeURIComponent(currentArtistEmail)}`;
      }
    }
  </script>
</body>
</html>
